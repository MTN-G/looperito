{"version":3,"sources":["actions.js","components/pad.js","components/timer.js","components/session.js","components/looper.js","App.js","reportWebVitals.js","reducer.js","index.js"],"names":["editSession","session","type","payload","Pad","sound","playing","recording","useState","active","setActive","audioEl","useRef","dispatch","useDispatch","timer","useSelector","state","time","useEffect","src","current","play","pause","className","style","backgroundColor","color","onClick","name","ref","loop","Timer","playSession","timeInterval","setInterval","clearInterval","number","seconds","minutes","calcTime","SessionSound","start","stop","duration","allSounds","Looper","setPlaying","setRecording","setPS","currSession","display","flexDirection","gap","alignItems","id","console","log","changeDuration","length","Grid","container","spacing","map","item","xs","sm","md","textAlign","filter","stopSound","find","element","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","reducer","action","store","createStore","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.af4ead89.chunk.js","sourcesContent":["export const editSession = (session) => {\r\n  return {\r\n    type: \"EDIT_SESSION\",\r\n    payload: session,\r\n  };\r\n};\r\n\r\nexport const addTime = (time) => {\r\n  return {\r\n    type: \"ADD_TIME\",\r\n    payload: time,\r\n  };\r\n};\r\n\r\nexport const resetTimer = () => {\r\n  return {\r\n    type: \"RESET_TIMER\",\r\n  };\r\n};\r\n\r\nexport const resetRecord = () => {\r\n  return {\r\n    type: \"RESET_RECORD\",\r\n  };\r\n};\r\n\r\nexport const changeDuration = (duration) => {\r\n  return {\r\n    type: \"DURATION\",\r\n    payload: duration,\r\n  };\r\n};\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { editSession } from \"../actions\";\r\n\r\n// This is the pad component that contains the audio element.\r\nfunction Pad({ sound, playing, recording }) {\r\n  const [active, setActive] = useState(false);\r\n  const audioEl = useRef();\r\n  const dispatch = useDispatch();\r\n  const timer = useSelector((state) => state.time);\r\n\r\n  useEffect(() => {\r\n    if (active && playing) {\r\n      if (recording) {\r\n        dispatch(\r\n          editSession({\r\n            src: sound.src,\r\n            time: timer,\r\n            type: \"start\",\r\n          })\r\n        );\r\n      }\r\n      audioEl.current.play();\r\n    } else {\r\n      if (recording && timer > 0) {\r\n        dispatch(\r\n          editSession({\r\n            src: sound.src,\r\n            time: timer,\r\n            type: \"stop\",\r\n          })\r\n        );\r\n      }\r\n      audioEl.current.pause();\r\n    }\r\n  }, [playing, active, recording]);\r\n\r\n  return (\r\n    <button\r\n      className=\"pad\"\r\n      style={{ backgroundColor: active ? sound.color : \"wheat\" }}\r\n      onClick={() => setActive(!active)}\r\n    >\r\n      {sound.name}\r\n      <audio ref={audioEl} src={sound.src} loop></audio>\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default Pad;\r\n","import { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { addTime, resetTimer } from \"../actions\";\r\n\r\n// This component use for time measure, both for display and for record info.\r\nfunction Timer({ recording, playSession }) {\r\n  const dispatch = useDispatch();\r\n  const timer = useSelector((state) => state.time);\r\n  useEffect(() => {\r\n    if (recording || playSession) {\r\n      dispatch(resetTimer());\r\n      const timeInterval = setInterval(() => {\r\n        dispatch(addTime());\r\n      }, 1000);\r\n      return () => clearInterval(timeInterval);\r\n    }\r\n  }, [recording, playSession, dispatch]);\r\n\r\n  // Calculate time for displaying.\r\n  function calcTime(number) {\r\n    if (number >= 60) {\r\n      let seconds = number % 60;\r\n      seconds = seconds > 9 ? seconds : \"0\" + seconds;\r\n      let minutes = (number - seconds) / 60;\r\n      minutes = minutes > 9 ? minutes : \"0\" + minutes;\r\n      return minutes + \":\" + seconds;\r\n    } else {\r\n      return \"00:\" + (number > 9 ? number : \"0\" + number);\r\n    }\r\n  }\r\n\r\n  return <div className=\"timer\">{timer === 0 ? \"00:00\" : calcTime(timer)}</div>;\r\n}\r\n\r\nexport default Timer;\r\n","import React, { useEffect, useRef } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\n// This component provide the \"recorded\" audio element.\r\n// Each of the sounds that recorded get 1 component with the info about start and end.\r\n// In case of use same sound more then once, each sound will get his own component.\r\nfunction SessionSound({ start, stop }) {\r\n  const audioEl = useRef();\r\n  const timer = useSelector((state) => state.time);\r\n  const duration = useSelector((state) => state.duration);\r\n\r\n  useEffect(() => {\r\n    if (timer === start.time) {\r\n      audioEl.current.play();\r\n    }\r\n    if (stop) {\r\n      if (timer === stop.time) {\r\n        audioEl.current.pause();\r\n      }\r\n    }\r\n    if (timer === duration) audioEl.current.pause();\r\n  }, [duration, start.time, stop, timer]);\r\n\r\n  return <audio ref={audioEl} src={start.src} loop></audio>;\r\n}\r\n\r\nexport default SessionSound;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Pad from \"./pad\";\r\nimport PlayArrowIcon from \"@material-ui/icons/PlayArrow\";\r\nimport PauseCircleOutlineSharpIcon from \"@material-ui/icons/PauseCircleOutlineSharp\";\r\nimport { Grid } from \"@material-ui/core\";\r\nimport Timer from \"./timer\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { changeDuration, resetRecord, resetTimer } from \"../actions\";\r\nimport SessionSound from \"./session\";\r\n\r\n// all soundfiles path & name\r\nconst allSounds = [\r\n  {\r\n    src: \"sounds/sound1.mp3\",\r\n    color: \"#88A09E\",\r\n    name: \"Silent Star\",\r\n  },\r\n  {\r\n    src: \"sounds/sound2.mp3\",\r\n    color: \"#D78784\",\r\n    name: \"Basic Drums\",\r\n  },\r\n  {\r\n    src: \"sounds/sound3.mp3\",\r\n    color: \"#6F9B81\",\r\n    name: \"Aliens\",\r\n  },\r\n  {\r\n    src: \"sounds/sound4.mp3\",\r\n    color: \"#72D8FE\",\r\n    name: \"Darbuka\",\r\n  },\r\n  {\r\n    src: \"sounds/sound5.mp3\",\r\n    color: \"#725AC1\",\r\n    name: \"Strong Drums\",\r\n  },\r\n  {\r\n    src: \"sounds/sound6.mp3\",\r\n    color: \"#5A6650\",\r\n    name: \"Wild West\",\r\n  },\r\n  {\r\n    src: \"sounds/sound7.mp3\",\r\n    color: \"#0776C5\",\r\n    name: \"Comedy\",\r\n  },\r\n  {\r\n    src: \"sounds/sound8.mp3\",\r\n    color: \"#C372D5\",\r\n    name: \"Tik-Tak\",\r\n  },\r\n  {\r\n    src: \"sounds/sound9.mp3\",\r\n    color: \"#2BCA7A\",\r\n    name: \"Wiki Wiki Wa\",\r\n  },\r\n];\r\n\r\nfunction Looper() {\r\n  const [playing, setPlaying] = useState(false);\r\n  const [recording, setRecording] = useState(false);\r\n  const [playSession, setPS] = useState(false);\r\n  const currSession = useSelector((state) => state.session);\r\n  const timer = useSelector((state) => state.time);\r\n  const duration = useSelector((state) => state.duration);\r\n\r\n  const dispatch = useDispatch();\r\n  // Handle the play session button\r\n  function playSessionFunc() {\r\n    const playAudio = currSession.filter((sound) => sound.type === \"start\");\r\n    return playAudio.map((sound) => {\r\n      const stopSound = currSession.find(\r\n        (element) =>\r\n          element.src === sound.src &&\r\n          element.time >= sound.time &&\r\n          element.type === \"stop\"\r\n      );\r\n      return <SessionSound start={sound} stop={stopSound} />;\r\n    });\r\n  }\r\n  // Reset the clock when the session record end.\r\n  useEffect(() => {\r\n    if (timer === duration && timer !== 0) {\r\n      setPS(false);\r\n      dispatch(resetTimer());\r\n    }\r\n  }, [dispatch, duration, timer]);\r\n\r\n  return (\r\n    <div className=\"looper\">\r\n      <div className=\"controlers\">\r\n        <button\r\n          className=\"playbtn\"\r\n          onClick={() => {\r\n            setPlaying(!playing);\r\n          }}\r\n        >\r\n          {playing ? <PauseCircleOutlineSharpIcon /> : <PlayArrowIcon />}\r\n        </button>\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"row\",\r\n            gap: \"8px\",\r\n            alignItems: \"center\",\r\n          }}\r\n        >\r\n          <button\r\n            id=\"recordbtn\"\r\n            className={recording ? \"rec\" : \"notrec\"}\r\n            onClick={() => {\r\n              if (!recording) {\r\n                dispatch(resetRecord());\r\n              }\r\n              setRecording(!recording);\r\n              setPlaying(!playing);\r\n              console.log(timer);\r\n              dispatch(changeDuration(timer));\r\n            }}\r\n          >\r\n            record\r\n          </button>\r\n          <Timer recording={recording} playSession={playSession} />\r\n          {currSession.length && !recording ? (\r\n            <button\r\n              className=\"psbtn\"\r\n              onClick={() => {\r\n                setPS(true);\r\n              }}\r\n            >\r\n              play session\r\n            </button>\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n      <div id={\"pads-grid\"}>\r\n        <Grid container spacing={3}>\r\n          {allSounds &&\r\n            allSounds.map((sound) => (\r\n              <Grid item xs={6} sm={6} md={4} style={{ textAlign: \"center\" }}>\r\n                <Pad sound={sound} playing={playing} recording={recording} />\r\n              </Grid>\r\n            ))}\r\n        </Grid>\r\n      </div>\r\n      {playSession && playSessionFunc()}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Looper;\r\n","import Looper from \"./components/looper\";\nimport \"./App.css\";\n\nfunction App() {\n  return (\n    <div id=\"App\">\n      <h1 className=\"glow\">LOOPERITO</h1>\n      <Looper />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","const initialState = {\r\n  session: [],\r\n  time: 0,\r\n  duration: 0,\r\n};\r\n\r\nfunction reducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case \"EDIT_SESSION\":\r\n      // Session is the state of the last recorded session, represented\r\n      // by array of action (play/pause a sound)\r\n      return { ...state, session: [...state.session, action.payload] };\r\n    case \"ADD_TIME\":\r\n      return { ...state, time: state.time + 1 };\r\n    case \"RESET_TIMER\":\r\n      return { ...state, time: 0 };\r\n    case \"RESET_RECORD\":\r\n      return { ...state, time: 0, session: [] };\r\n    case \"DURATION\":\r\n      return { ...state, duration: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default reducer;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { createStore } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport reducer from \"./reducer\";\n\nconst store = createStore(reducer);\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}