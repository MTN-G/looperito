(this.webpackJsonplooperito=this.webpackJsonplooperito||[]).push([[0],{40:function(e,t,n){},48:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),s=n(9),o=n.n(s),i=(n(40),n(10)),a=n(4),u=function(e){return{type:"EDIT_SESSION",payload:e}},j=n(2);var l=function(e){var t=e.sound,n=e.playing,r=e.recording,s=Object(c.useState)(!1),o=Object(i.a)(s,2),l=o[0],d=o[1],b=Object(c.useRef)(),O=Object(a.b)(),p=Object(a.c)((function(e){return e.time}));return Object(c.useEffect)((function(){l&&n?(r&&O(u({src:t.src,time:p,type:"start"})),b.current.play()):(r&&p>0&&O(u({src:t.src,time:p,type:"stop"})),b.current.pause())}),[n,l,r]),Object(j.jsxs)("button",{className:"pad",style:{backgroundColor:l?t.color:"wheat"},onClick:function(){return d(!l)},children:[t.name,Object(j.jsx)("audio",{ref:b,src:t.src,loop:!0})]})},d=n(33),b=n.n(d),O=n(28),p=n.n(O),f=n(64);var m=function(e){var t=e.recording,n=e.playSession,r=Object(a.b)(),s=Object(a.c)((function(e){return e.time}));return Object(c.useEffect)((function(){if(t||n){r({type:"RESET_TIMER"});var e=setInterval((function(){var e;r({type:"ADD_TIME",payload:e})}),1e3);return function(){return clearInterval(e)}}}),[t,n,r]),Object(j.jsx)("div",{className:"timer",children:0===s?"00:00":function(e){if(e>=60){var t=e%60,n=(e-(t=t>9?t:"0"+t))/60;return(n=n>9?n:"0"+n)+":"+t}return"00:"+(e>9?e:"0"+e)}(s)})};var y=function(e){var t=e.start,n=e.stop,r=Object(c.useRef)(),s=Object(a.c)((function(e){return e.time})),o=Object(a.c)((function(e){return e.duration}));return Object(c.useEffect)((function(){s===t.time&&r.current.play(),n&&s===n.time&&r.current.pause(),s===o&&r.current.pause()}),[o,t.time,n,s]),Object(j.jsx)("audio",{ref:r,src:t.src,loop:!0})},x=[{src:"sounds/sound1.mp3",color:"#88A09E",name:"Silent Star"},{src:"sounds/sound2.mp3",color:"#D78784",name:"Basic Drums"},{src:"sounds/sound3.mp3",color:"#6F9B81",name:"Aliens"},{src:"sounds/sound4.mp3",color:"#72D8FE",name:"Darbuka"},{src:"sounds/sound5.mp3",color:"#725AC1",name:"Strong Drums"},{src:"sounds/sound6.mp3",color:"#5A6650",name:"Wild West"},{src:"sounds/sound7.mp3",color:"#0776C5",name:"Comedy"},{src:"sounds/sound8.mp3",color:"#C372D5",name:"Tik-Tak"},{src:"sounds/sound9.mp3",color:"#2BCA7A",name:"Wiki Wiki Wa"}];var E=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(!1),o=Object(i.a)(s,2),u=o[0],d=o[1],O=Object(c.useState)(!1),E=Object(i.a)(O,2),v=E[0],h=E[1],g=Object(a.c)((function(e){return e.session})),S=Object(a.c)((function(e){return e.time})),T=Object(a.c)((function(e){return e.duration})),D=Object(a.b)();return Object(c.useEffect)((function(){S===T&&0!==S&&(h(!1),D({type:"RESET_TIMER"}))}),[D,T,S]),Object(j.jsxs)("div",{className:"looper",children:[Object(j.jsxs)("div",{className:"controlers",children:[Object(j.jsx)("button",{className:"playbtn",onClick:function(){r(!n)},children:n?Object(j.jsx)(p.a,{}):Object(j.jsx)(b.a,{})}),Object(j.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:"8px",alignItems:"center"},children:[Object(j.jsx)("button",{id:"recordbtn",className:u?"rec":"notrec",onClick:function(){u||D({type:"RESET_RECORD"}),d(!u),r(!n),console.log(S),D(function(e){return{type:"DURATION",payload:e}}(S))},children:"record"}),Object(j.jsx)(m,{recording:u,playSession:v}),g.length&&!u?Object(j.jsx)("button",{className:"psbtn",onClick:function(){h(!0)},children:"play session"}):null]})]}),Object(j.jsx)("div",{id:"pads-grid",children:Object(j.jsx)(f.a,{container:!0,spacing:3,children:x&&x.map((function(e){return Object(j.jsx)(f.a,{item:!0,xs:6,sm:6,md:4,style:{textAlign:"center"},children:Object(j.jsx)(l,{sound:e,playing:n,recording:u})})}))})}),v&&g.filter((function(e){return"start"===e.type})).map((function(e){var t=g.find((function(t){return t.src===e.src&&t.time>=e.time&&"stop"===t.type}));return Object(j.jsx)(y,{start:e,stop:t})}))]})};n(48);var v=function(){return Object(j.jsxs)("div",{id:"App",children:[Object(j.jsx)("h1",{className:"glow",children:"LOOPERITO"}),Object(j.jsx)(E,{})]})},h=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,65)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),s(e),o(e)}))},g=n(15),S=n(34),T=n(6),D={session:[],time:0,duration:0};var I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EDIT_SESSION":return Object(T.a)(Object(T.a)({},e),{},{session:[].concat(Object(S.a)(e.session),[t.payload])});case"ADD_TIME":return Object(T.a)(Object(T.a)({},e),{},{time:e.time+1});case"RESET_TIMER":return Object(T.a)(Object(T.a)({},e),{},{time:0});case"RESET_RECORD":return Object(T.a)(Object(T.a)({},e),{},{time:0,session:[]});case"DURATION":return Object(T.a)(Object(T.a)({},e),{},{duration:t.payload});default:return e}},R=Object(g.b)(I);o.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(a.a,{store:R,children:Object(j.jsx)(v,{})})}),document.getElementById("root")),h()}},[[50,1,2]]]);
//# sourceMappingURL=main.af4ead89.chunk.js.map