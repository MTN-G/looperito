(this.webpackJsonplooperito=this.webpackJsonplooperito||[]).push([[0],{40:function(e,t,c){},50:function(e,t,c){},51:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),s=c(9),i=c.n(s),a=(c(40),c(10)),o=c(4),u=function(e){return{type:"EDIT_SESSION",payload:e}},j=c(2);var d=function(e){var t=e.sound,c=e.playing,r=e.recording,s=Object(n.useState)(!1),i=Object(a.a)(s,2),d=i[0],l=i[1],b=Object(n.useRef)(),p=Object(o.b)(),O=Object(o.c)((function(e){return e.time}));return Object(n.useEffect)((function(){d&&c?(r&&p(u({src:t.src,time:O,type:"start"})),b.current.currentTime=0,b.current.play()):(r&&O>0&&p(u({src:t.src,time:O,type:"stop"})),b.current.pause())}),[c,d,r]),Object(j.jsxs)("button",{className:"pad",style:{backgroundColor:d?t.color:"wheat"},onClick:function(){return l(!d)},children:[t.name,Object(j.jsx)("audio",{ref:b,src:t.src,crossOrigin:"anonymous",loop:!0})]})},l=c(33),b=c.n(l),p=c(28),O=c.n(p),m=c(66);var f=function(e){var t=e.recording,c=e.playSession,r=Object(o.b)(),s=Object(o.c)((function(e){return e.time}));return Object(n.useEffect)((function(){if(t||c){r({type:"RESET_TIMER"});var e=setInterval((function(){var e;r({type:"ADD_TIME",payload:e})}),1e3);return function(){return clearInterval(e)}}}),[t,c,r]),Object(j.jsx)("div",{className:"timer",children:0===s?"00:00":function(e){if(e>=60){var t=e%60,c=(e-(t=t>9?t:"0"+t))/60;return(c=c>9?c:"0"+c)+":"+t}return"00:"+(e>9?e:"0"+e)}(s)})};var y=function(e){var t=e.start,c=e.stop,r=Object(n.useRef)(),s=Object(o.c)((function(e){return e.time})),i=Object(o.c)((function(e){return e.duration}));return Object(n.useEffect)((function(){s===t.time&&r.current.play(),c&&s===c.time&&r.current.pause(),s===i&&r.current.pause()}),[i,t.time,c,s]),Object(j.jsx)("audio",{ref:r,src:t.src,loop:!0})},x=[{src:c.p+"static/media/sound1.f2d668af.mp3",color:"#88A09E",name:"Silent Star"},{src:c.p+"static/media/sound2.f77c6da4.mp3",color:"#D78784",name:"Basic Drums"},{src:c.p+"static/media/sound3.2d08c654.mp3",color:"#6F9B81",name:"Aliens"},{src:c.p+"static/media/sound4.3e1411b4.mp3",color:"#72D8FE",name:"Darbuka"},{src:c.p+"static/media/sound5.27bdc145.mp3",color:"#725AC1",name:"Strong Drums"},{src:c.p+"static/media/sound6.230fcab8.mp3",color:"#5A6650",name:"Wild West"},{src:c.p+"static/media/sound7.52c24c81.mp3",color:"#0776C5",name:"Comedy"},{src:c.p+"static/media/sound8.37c82282.mp3",color:"#C372D5",name:"Tik-Tak"},{src:c.p+"static/media/sound9.5eb417fc.mp3",color:"#2BCA7A",name:"Wiki Wiki Wa"}];var E=function(){var e=Object(n.useState)(!1),t=Object(a.a)(e,2),c=t[0],r=t[1],s=Object(n.useState)(!1),i=Object(a.a)(s,2),u=i[0],l=i[1],p=Object(n.useState)(!1),E=Object(a.a)(p,2),v=E[0],h=E[1],g=Object(o.c)((function(e){return e.session})),S=Object(o.c)((function(e){return e.time})),T=Object(o.c)((function(e){return e.duration})),D=Object(o.b)();return Object(n.useEffect)((function(){S===T&&0!==S&&(h(!1),D({type:"RESET_TIMER"}))}),[D,T,S]),Object(j.jsxs)("div",{className:"looper",children:[Object(j.jsxs)("div",{className:"controlers",children:[Object(j.jsx)("button",{className:"playbtn",onClick:function(){r(!c)},children:c?Object(j.jsx)(O.a,{}):Object(j.jsx)(b.a,{})}),Object(j.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:"8px",alignItems:"center"},children:[Object(j.jsx)("button",{id:"recordbtn",className:u?"rec":"notrec",onClick:function(){u||D({type:"RESET_RECORD"}),l(!u),c||r(!c),D(function(e){return{type:"DURATION",payload:e}}(S))},children:"record"}),Object(j.jsx)(f,{recording:u,playSession:v}),g.length&&!u?Object(j.jsx)("button",{className:"psbtn",onClick:function(){h(!0)},children:"play session"}):null]})]}),Object(j.jsx)("div",{id:"pads-grid",children:Object(j.jsx)(m.a,{container:!0,spacing:3,children:x&&x.map((function(e){return Object(j.jsx)(m.a,{item:!0,xs:4,sm:4,md:4,style:{textAlign:"center"},children:Object(j.jsx)(d,{sound:e,playing:c,recording:u})},e.src)}))})}),v&&g.filter((function(e){return"start"===e.type})).map((function(e){var t=g.find((function(t){return t.src===e.src&&t.time>=e.time&&"stop"===t.type}));return Object(j.jsx)(y,{start:e,stop:t},e.src)}))]})};c(50);var v=function(){return Object(j.jsxs)("div",{id:"App",children:[Object(j.jsx)("h1",{className:"glow",children:"LOOPERITO"}),Object(j.jsx)(E,{})]})},h=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,67)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),n(e),r(e),s(e),i(e)}))},g=c(15),S=c(34),T=c(6),D={session:[],time:0,duration:0};var I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EDIT_SESSION":return Object(T.a)(Object(T.a)({},e),{},{session:[].concat(Object(S.a)(e.session),[t.payload])});case"ADD_TIME":return Object(T.a)(Object(T.a)({},e),{},{time:e.time+1});case"RESET_TIMER":return Object(T.a)(Object(T.a)({},e),{},{time:0});case"RESET_RECORD":return Object(T.a)(Object(T.a)({},e),{},{time:0,session:[]});case"DURATION":return Object(T.a)(Object(T.a)({},e),{},{duration:t.payload});default:return e}},R=Object(g.b)(I);i.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(o.a,{store:R,children:Object(j.jsx)(v,{})})}),document.getElementById("root")),h()}},[[51,1,2]]]);
//# sourceMappingURL=main.3f122ff3.chunk.js.map